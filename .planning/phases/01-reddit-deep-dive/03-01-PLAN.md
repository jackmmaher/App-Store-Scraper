---
phase: 01-reddit-deep-dive
plan: 05
type: execute
---

<objective>
Build the frontend React components for search configuration and results display.

Purpose: Enable users to configure, trigger, and view Reddit Deep Dive analysis.
Output: Working UI integrated into competitor detail page.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./03-01-SUMMARY.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-reddit-deep-dive/02-02-SUMMARY.md
@docs/plans/2026-02-01-reddit-deep-dive-design.md

Relevant source files:
@lib/reddit/types.ts
@app/projects/[id]/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create SearchConfigPanel component</name>
  <files>components/reddit/SearchConfigPanel.tsx</files>
  <action>
Create the configuration panel component:

Props:
```typescript
interface SearchConfigPanelProps {
  competitorId: string;
  competitorName: string;
  onAnalyze: (config: RedditSearchConfig) => void;
  onCancel: () => void;
  isLoading?: boolean;
}
```

Features:
1. On mount, fetch config from `/api/reddit/generate-config`
2. Display loading state while fetching
3. Show editable fields:
   - Problem Domain (textarea, pre-filled)
   - Search Topics (tag input - chips with X to remove, input to add)
   - Subreddits (tag input - chips with X to remove, input to add, prefix with r/)
   - Time Range (radio: Past Week / Past Month / Past Year)
4. "Run Reddit Deep Dive" button calls onAnalyze with current config
5. "Cancel" button calls onCancel

Use Tailwind for styling. Follow existing component patterns in the codebase.
Tag input: Simple implementation - text input, Enter to add, click X to remove.
  </action>
  <verify>Component renders without errors, tag inputs work</verify>
  <done>SearchConfigPanel component functional with all inputs working</done>
</task>

<task type="auto">
  <name>Task 2: Create UnmetNeedCard and UnmetNeedsPanel components</name>
  <files>components/reddit/UnmetNeedCard.tsx, components/reddit/UnmetNeedsPanel.tsx</files>
  <action>
Create UnmetNeedCard (individual need display):

Props:
```typescript
interface UnmetNeedCardProps {
  need: UnmetNeed;
  onSolutionChange: (needId: string, notes: string) => void;
  isExpanded?: boolean;
  onToggleExpand?: () => void;
}
```

Display:
- Title + severity badge (High=red, Medium=yellow, Low=gray)
- Description (1-2 sentences)
- Evidence line: "127 posts • Avg 84 upvotes • r/QuitVaping"
- Solution Notes textarea (auto-save on blur or debounced)
- Expand to show representative quotes

Create UnmetNeedsPanel (left column container):

Props:
```typescript
interface UnmetNeedsPanelProps {
  needs: UnmetNeed[];
  onSolutionChange: (needId: string, notes: string) => void;
  onSaveSolutions: () => void;
  isSaving?: boolean;
}
```

- Header: "Top Unmet Needs" with count badge
- List of UnmetNeedCard components
- "Save Solutions" button at bottom
  </action>
  <verify>Components render without errors, solution textareas editable</verify>
  <done>UnmetNeedCard and UnmetNeedsPanel components functional</done>
</task>

<task type="auto">
  <name>Task 3: Create TrendsSentimentPanel component</name>
  <files>components/reddit/TrendsSentimentPanel.tsx</files>
  <action>
Create the right column component for trends and sentiment:

Props:
```typescript
interface TrendsSentimentPanelProps {
  trends: TrendAnalysis;
  sentiment: SentimentBreakdown;
  languagePatterns: string[];
  topSubreddits: SubredditSummary[];
}
```

Display:
1. Discussion Volume: Bar + number (e.g., "847 posts/month")
2. Trend Direction: Arrow (↗ rising, → stable, ↘ declining) + percentage
3. Sentiment Breakdown: Horizontal stacked bar chart (simple div-based)
   - Frustrated (red), Seeking Help (yellow), Success Stories (green)
   - Show percentages
4. Common Language Patterns: Quoted phrases in italic
5. Top Subreddits: List with post counts

Use Tailwind for styling. Keep it clean and readable.
  </action>
  <verify>Component renders without errors with sample data</verify>
  <done>TrendsSentimentPanel displays all metrics clearly</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Reddit Deep Dive UI components</what-built>
  <how-to-verify>
    1. Run: `npm run dev`
    2. Create a test page or storybook to view components with sample data
    3. Verify SearchConfigPanel:
       - Tags can be added/removed
       - Time range radio works
       - Layout looks clean
    4. Verify UnmetNeedsPanel:
       - Cards display correctly
       - Solution textareas are editable
       - Expand/collapse works
    5. Verify TrendsSentimentPanel:
       - All metrics display
       - Sentiment bar shows proportions
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` succeeds without errors
- [ ] All components render without React errors
- [ ] Interactive elements work (inputs, buttons, expand/collapse)
</verification>

<success_criteria>

- All tasks completed
- Human verification approved
- Components ready for integration
</success_criteria>

<output>
After completion, create `.planning/phases/01-reddit-deep-dive/03-01-SUMMARY.md`
</output>
